{"mappings":"AAAA,MAEMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cACrCE,EAAW,IAAIC,eAAe,cAEpC,IAAIC,EAAc,EACdC,EAAqB,GA4BzBC,eAAeC,EAAYC,EAAOC,GAChC,IACE,MAAMC,QAAiBC,MAAMC,IAAI,2BAA4B,CAC3DC,OAAQ,CACNC,IAxCQ,qCAyCRC,EAAGP,EACHQ,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SAAU,GACVV,KAAMA,MAIJW,KAAEA,EAAIC,UAAEA,GAAcX,EAASY,KACjCF,EAAKG,OAAS,IAChBH,EAAKI,SAAQC,IACX,MAAMC,EAsBd,SAAyBD,GACvB,MAAME,aACJA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,GACER,EAEEC,EAAY7B,SAASqC,cAAc,OACzCR,EAAUS,UAAUC,IAAI,cAExB,MAAMC,EAAYxC,SAASqC,cAAc,KACzCG,EAAUC,KAAOV,EAEjB,MAAMW,EAAM1C,SAASqC,cAAc,OACnCK,EAAIC,IAAMb,EACVY,EAAIE,IAAMZ,EACVU,EAAIG,QAAU,OAEd,MAAMC,EAAO9C,SAASqC,cAAc,OACpCS,EAAKR,UAAUC,IAAI,QAEnB,MAAMQ,EAAYC,EAAe,QAASf,GACpCgB,EAAYD,EAAe,QAASd,GACpCgB,EAAeF,EAAe,WAAYb,GAC1CgB,EAAgBH,EAAe,YAAaZ,GAMlD,OAJAU,EAAKM,OAAOL,EAAWE,EAAWC,EAAcC,GAChDX,EAAUY,OAAOV,EAAKI,GACtBjB,EAAUwB,YAAYb,GAEfX,C,CAxDiByB,CAAgB1B,GAClC1B,EAAQmD,YAAYxB,EAAU,IAGhCxB,EAASkD,UACTC,OAAOC,SAAS,CACdC,IAAgE,EAA3DxD,EAAQyD,kBAAkBC,wBAAwBC,OACvDC,SAAU,YAIVvC,EAAKG,SAAWF,IAClBpB,EAAY2D,MAAMC,QAAU,OAC5BC,SAASC,OAAOpB,KACd,8D,CAGJ,MAAOqB,GACPF,SAASC,OAAOE,QAAQ,2C,EAyC5B,SAASpB,EAAeqB,EAAOC,GAC7B,MAAMC,EAAOvE,SAASqC,cAAc,KAGpC,OAFAkC,EAAKjC,UAAUC,IAAI,aACnBgC,EAAKC,UAAY,MAAMH,UAAcC,IAC9BC,C,CA1GTxE,EAAW0E,iBAAiB,UAAUhE,MAAMiE,IAC1CA,EAAEC,iBACF,MAAMC,EAAc7E,EAAW6E,YAAYN,MAAMO,OAC7B,KAAhBD,IAEJrE,EAAc,EACdC,EAAqBoE,EACrB1E,EAAQsE,UAAY,SAEd9D,EAAYF,EAAoBD,GAElCL,EAAQ4E,kBAAoB,GAC9B1E,EAAY2D,MAAMC,QAAU,QAC5BC,SAASC,OAAOa,QAAQ,oBAAoBvD,sBAE5CyC,SAASC,OAAOE,QACd,4EACD,IAILhE,EAAYqE,iBAAiB,SAAShE,UACpCF,UACMG,EAAYF,EAAoBD,EAAY","sources":["src/index.js"],"sourcesContent":["const API_KEY = '37660619-57c515de7526ffff07433eaf8';\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet currentPage = 1;\nlet currentSearchQuery = '';\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const searchQuery = searchForm.searchQuery.value.trim();\n  if (searchQuery === '') return;\n\n  currentPage = 1;\n  currentSearchQuery = searchQuery;\n  gallery.innerHTML = '';\n\n  await fetchImages(currentSearchQuery, currentPage);\n\n  if (gallery.childElementCount > 0) {\n    loadMoreBtn.style.display = 'block';\n    Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n  } else {\n    Notiflix.Notify.failure(\n      'Sorry, there are no images matching your search query. Please try again.'\n    );\n  }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  currentPage++;\n  await fetchImages(currentSearchQuery, currentPage);\n});\n\nasync function fetchImages(query, page) {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 40,\n        page: page,\n      },\n    });\n\n    const { hits, totalHits } = response.data;\n    if (hits.length > 0) {\n      hits.forEach(image => {\n        const photoCard = createPhotoCard(image);\n        gallery.appendChild(photoCard);\n      });\n\n      lightbox.refresh();\n      window.scrollBy({\n        top: gallery.firstElementChild.getBoundingClientRect().height * 2,\n        behavior: 'smooth',\n      });\n    }\n\n    if (hits.length === totalHits) {\n      loadMoreBtn.style.display = 'none';\n      Notiflix.Notify.info(\n        \"We're sorry, but you've reached the end of search results.\"\n      );\n    }\n  } catch (error) {\n    Notiflix.Notify.failure('Error fetching images. Please try again.');\n  }\n}\n\nfunction createPhotoCard(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const imageLink = document.createElement('a');\n  imageLink.href = largeImageURL;\n\n  const img = document.createElement('img');\n  img.src = webformatURL;\n  img.alt = tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likesInfo = createInfoItem('Likes', likes);\n  const viewsInfo = createInfoItem('Views', views);\n  const commentsInfo = createInfoItem('Comments', comments);\n  const downloadsInfo = createInfoItem('Downloads', downloads);\n\n  info.append(likesInfo, viewsInfo, commentsInfo, downloadsInfo);\n  imageLink.append(img, info);\n  photoCard.appendChild(imageLink);\n\n  return photoCard;\n}\n\nfunction createInfoItem(label, value) {\n  const item = document.createElement('p');\n  item.classList.add('info-item');\n  item.innerHTML = `<b>${label}:</b> ${value}`;\n  return item;\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$lightbox","SimpleLightbox","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentSearchQuery","async","$1f0dc3b9307be026$var$fetchImages","query","page","response","axios","get","params","key","q","image_type","orientation","safesearch","per_page","hits","totalHits","data","length","forEach","image","photoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createElement","classList","add","imageLink","href","img","src","alt","loading","info","likesInfo","$1f0dc3b9307be026$var$createInfoItem","viewsInfo","commentsInfo","downloadsInfo","append","appendChild","$1f0dc3b9307be026$var$createPhotoCard","refresh","window","scrollBy","top","firstElementChild","getBoundingClientRect","height","behavior","style","display","Notiflix","Notify","error","failure","label","value","item","innerHTML","addEventListener","e","preventDefault","searchQuery","trim","childElementCount","success"],"version":3,"file":"index.0a948ebf.js.map"}