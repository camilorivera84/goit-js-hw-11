const e=document.getElementById("search-form"),t=document.querySelector(".gallery"),a=document.querySelector(".load-more"),o=new SimpleLightbox(".gallery a");let n=1,i="";async function s(e,n){try{const i=await axios.get("https://pixabay.com/api/",{params:{key:"37660619-57c515de7526ffff07433eaf8",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:n}}),{hits:s,totalHits:c}=i.data;s.length>0&&(s.forEach((e=>{const a=function(e){const{webformatURL:t,largeImageURL:a,tags:o,likes:n,views:i,comments:s,downloads:c}=e,l=document.createElement("div");l.classList.add("photo-card");const d=document.createElement("a");d.href=a;const m=document.createElement("img");m.src=t,m.alt=o,m.loading="lazy";const f=document.createElement("div");f.classList.add("info");const y=r("Likes",n),h=r("Views",i),u=r("Comments",s),g=r("Downloads",c);return f.append(y,h,u,g),d.append(m,f),l.appendChild(d),l}(e);t.appendChild(a)})),o.refresh(),window.scrollBy({top:2*t.firstElementChild.getBoundingClientRect().height,behavior:"smooth"})),s.length===c&&(a.style.display="none",Notiflix.Notify.info("We're sorry, but you've reached the end of search results."))}catch(e){Notiflix.Notify.failure("Error fetching images. Please try again.")}}function r(e,t){const a=document.createElement("p");return a.classList.add("info-item"),a.innerHTML=`<b>${e}:</b> ${t}`,a}e.addEventListener("submit",(async o=>{o.preventDefault();const r=e.searchQuery.value.trim();""!==r&&(n=1,i=r,t.innerHTML="",await s(i,n),t.childElementCount>0?(a.style.display="block",Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`)):Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again."))})),a.addEventListener("click",(async()=>{n++,await s(i,n)}));
//# sourceMappingURL=index.0a948ebf.js.map
